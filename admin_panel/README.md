# Admin Panel

Сервис администрирования каталога фильмов

* **Язык приложения:** Python 3.11
* **Поддерживаемые протоколы взаимодействия:** REST API
* **Инфраструктурные зависимости:** Postgres
* **Зависимости от системных пакетов:** отсутствуют
* **Зависимости от расширений PostgreSQL:** отсутствуют
* **Часть окружения:** development
* **Минимальные системные требования:** 1 CPU, 1Gb RAM

## Поддержка сервиса

Группа разработки:

* Иван Баженов (*[@sendhello](https://github.com/sendhello)*)

## Описание обязательных методов для запуска сервиса

### Запуск сервиса
```commandline
# Из корня проекта
docker compose up --build
```

## Описание дополнительных методов сервиса

### Запуск линтеров
Установка зависимостей requirements-dev.txt из корня проекта

```commandline
isort admin_panel
flake8 admin_panel
black --skip-string-normalization admin_panel
```

### Описание ENV переменных

| Имя переменной            | Возможное значение  | Описание                      |
|:--------------------------|---------------------|:------------------------------|
| DEBUG                     | true                | Режим debug                   |
| DB_HOST                   | localhost           | Хост БД                       |
| DB_PORT                   | 5434                | Порт БД                       |
| DB_NAME                   | movies_database     | Имя БД                        |
| DB_USER                   | app                 | Имя пользователя БД           |
| DB_PASSWORD               | 123qwe              | Пароль БД                     |
| SECRET_KEY                | secret              | Секретный ключ                |
| ALLOWED_HOSTS             | '*'                 | Разрешенные хосты подключения |
| DJANGO_SUPERUSER_USERNAME | admin               | Имя суперпользователя         |
| DJANGO_SUPERUSER_PASSWORD | admin               | Пароль суперпользователя      |
| DJANGO_SUPERUSER_EMAIL    | example@example.com | Email суперпользователя       |

### Создание суперпользователя
Суперпользователь создается автоматически с логином admin и паролем admin

### Внешняя аутентификация 
Пользователи сервиса создаются и верифицируются сервисом Auth

### Локализация
Для создания таблицы переводов выполнить
```bash
python manage.py makemessages -l en -l ru 
```
Далее нужно отредактировать (добавить переводы) файлы с расширением *.po в директории locale
Для фиксации переводов выполнить компиляцию переводов:
```bash
python manage.py compilemessages -l en -l ru 
```
